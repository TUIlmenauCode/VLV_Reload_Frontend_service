
<%- include('./parts/head.ejs',{url : url, page_title : page_title})%>

<body>

<%- include('./parts/preloader.ejs')%>    
    <div id="pcoded" class="pcoded" >
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">
            

        <%- include('./parts/header.ejs')%>    

        <%- include('./parts/chat_persons.ejs')%>    

        <%- include('./parts/chat.ejs')%>    

            
            <div class="pcoded-main-container">
                <div class="pcoded-wrapper">
                    
                    <%- include('./parts/side_nav.ejs')%> 
                    <div class="pcoded-content">
                        
                    <%- include('./parts/breadcrumb.ejs',{url : url , page_description : "Test" , page_title : page_title, breadcrumb : [{name : "Öffendlich", link: "/public/view"}]}) %>
                    
                        
                    
                    <div class="pcoded-inner-content">
                            <div class="main-body">
                                <div class="page-wrapper">
                                    <div class="page-body">
                                        <!-- [ page content ] start -->
                                        <div class="row">

                                            <!-- lettest acivity and statustic card start -->

                                            <div class="col-xl-6 col-md-6">
                                            <div class="card">
														<div class="card-header">
															<h5>Hello card</h5>
														</div>
														<div class="card-block">
															<p>
																Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
																in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                            </p>
                                                            <button class="btn waves-effect waves-light btn-success btn-square btn-block">zum öffendlichen Bereich</button>
														</div>
													</div>
                                            </div>
                                            <div class="col-xl-6 col-md-6">
                                            <div class="card">
														<div class="card-header">
															<h5>Hello card</h5>
														</div>
														<div class="card-block">
															<p>
																Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
																in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                            </p>
                                                            <button class="btn waves-effect waves-light btn-info btn-square btn-block">zum induviduellen Bereich</button>
														</div>
													</div>
                                            </div>


                                            <!-- lettest acivity and statustic card end -->

                                        </div>
                                        <!-- [ page content ] end -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- [ style Customizer ] start -->
                    <div id="styleSelector">
                    </div>
                    <!-- [ style Customizer ] end -->
                </div>
            </div>
        </div>
    </div>
    <%- include('./parts/foot.ejs',{url : url})%>
</body>

<script>

$(document).ready(function(){
    

    
    setTimeout(function(){ showTour(); }, 800);


    function showTour(){

        var current_course;
        

        Swal.fire({
            input: 'select',
            confirmButtonText: 'Next &rarr;',
            showCancelButton: true,
            title: 'Akademischer Grad',
            text: 'Bitte wähle deinen angestrebten Akademischen Grad',
            inputOptions: academicDegreePromise
        }).then((result) => {
                if (result.value) {
                    console.log(result.value);
                    console.log(typeof result.value);
                    Swal.fire({
                        input: 'select',
                        confirmButtonText: 'Next &rarr;',
                        showCancelButton: true,
                        title: 'Fachsemester',
                        text: 'Bitte wähle deinen angestrebten Akademischen Grad',
                        inputOptions: CoursePromise(result.value)
                    }).then((result) => {
                            if (result.value) {
                                current_course = result.value;
                                Swal.fire({
                                    input: 'select',
                                    confirmButtonText: 'Next &rarr;',
                                    showCancelButton: true,
                                    title: 'Fachsemester',
                                    text: 'Bitte wähle deinen angestrebten Akademischen Grad',
                                    inputOptions: semesterPromise
                                }).then((result) => {
                                        if (result.value) {
                                            Swal.fire({
                                                input: 'select',
                                                confirmButtonText: 'Next &rarr;',
                                                showCancelButton: true,
                                                title: 'Akademischer Grad',
                                                text: 'Bitte wähle deinen angestrebten Akademischen Grad',
                                                inputOptions: GroupPromise(current_course, result.value)
                                            }).then((result) => {
                                                    if (result.value) {
                                                        buildCalendar(result.value);
                                                    }
                                                })
                                        }
                                    })
                            }
                        })
                }
            })
    }
});

function buildCalendar(seminar_gruppe){
    Swal.fire(seminar_gruppe);
}

var academicDegreePromise = new Promise(function (resolve, reject) {
    $.ajax({
        url: "https://app.vlv-reload.de/api/AcademicDegree/get_Name_ID",
        method : "POST",
        success: function (data) {
            var returnObject = {};
            JSON.parse(data).forEach(function(e){
                returnObject[e.academicDegreeID ] = e.name ;
            })
            resolve(returnObject)
        }
    });
});

var semesterPromise_ = new Promise(function (resolve, reject) {
    $.ajax({
        url: "https://app.vlv-reload.de/api/Semester/get_Name_ID",
        method : "POST",
        success: function (data) {
            var returnObject = {};
            JSON.parse(data).forEach(function(e){
                returnObject[e.fachSemesterID ] = e.name ;
            })
            resolve(returnObject)
        }
    });
});

var semesterPromise = function(course){
    return new Promise(function (resolve, reject) {
        $.ajax({
            url: "https://app.vlv-reload.de/api/Semester/get_Name_ID",
        method : "POST",
            data: {Course : course},
            success: function (data) {
                console.log(data);
                var returnObject = {};
                JSON.parse(data).forEach(function(e){
                    returnObject[e.fachSemesterID ] = e.name ;
                })
                resolve(returnObject)
            },
            error: function(jqxhr, status, exception) {
             console.log( exception);
         }
        });
    });
}


var CoursePromise = function(grade){
    return new Promise(function (resolve, reject) {
        $.ajax({
            url: "https://app.vlv-reload.de/api/Course/get_Name_ID",
            type : "POST",
            data: {AcademicDegree : grade },
            success: function (data) {
                console.log(data);
                var returnObject = {};
                JSON.parse(data).forEach(function(e){
                    returnObject[e.courseID ] = e.name ;
                })
                resolve(returnObject)
            },
            error: function(jqxhr, status, exception) {
             console.log( exception);
         }
        });
    });
}

var GroupPromise = function(course, semester){
    return new Promise(function (resolve, reject) {
        $.ajax({
            url: "https://app.vlv-reload.de/api/SeminarGroup/get_Name_ID",
            type : "POST",
            data: {Semester : semester, Course:  course},
            success: function (data) {
                console.log(data);
                var returnObject = {};
                JSON.parse(data).forEach(function(e){
                    returnObject[e.seminarGroupID ] = e.name ;
                })
                resolve(returnObject)
            },
            error: function(jqxhr, status, exception) {
             console.log( exception);
         }
        });
    });
}




</script>

</html>
